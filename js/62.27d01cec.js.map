{"version":3,"file":"js/62.27d01cec.js","mappings":"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","sources":["webpack://school-lessons/./src/views/Cart.vue","webpack://school-lessons/./src/components/cart/ShoppingCart.vue","webpack://school-lessons/./src/components/cart/CartItem.vue","webpack://school-lessons/./src/components/cart/CartItem.vue?05ca","webpack://school-lessons/./src/components/cart/ShoppingCart.vue?11b0","webpack://school-lessons/./src/views/Cart.vue?27b4"],"sourcesContent":["<template>\n  <ShoppingCart />\n</template>\n\n<script>\nimport ShoppingCart from \"@/components/cart/ShoppingCart.vue\";\nexport default {\n  components: { ShoppingCart },\n};\n</script>\n","<template>\n  <div class=\"container py-4\">\n    <div class=\"d-flex justify-content-between align-items-center mb-4\">\n      <h2 class=\"fw-bold mb-0\">Shopping Cart</h2>\n      <button v-if=\"hasItems\" @click=\"clearCart\" class=\"btn btn-outline-danger btn-sm\">\n        <i class=\"bi bi-trash me-2\"></i>Clear Cart\n      </button>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"text-center py-5\">\n      <div class=\"spinner-border text-primary\" role=\"status\">\n        <span class=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n\n    <!-- Error State -->\n    <div v-else-if=\"error\" class=\"alert alert-danger\" role=\"alert\">\n      {{ error }}\n    </div>\n\n    <!-- Empty Cart State -->\n    <div v-else-if=\"!hasItems\" class=\"text-center py-5\">\n      <i class=\"bi bi-cart-x display-1 text-muted\"></i>\n      <h3 class=\"mt-3\">Your cart is empty</h3>\n      <p class=\"text-muted mb-4\">Add some lessons to get started</p>\n      <router-link to=\"/lessons\" class=\"btn btn-primary\">\n        <i class=\"bi bi-book me-2\"></i>Browse Lessons\n      </router-link>\n    </div>\n\n    <!-- Cart Items -->\n    <div v-else class=\"row\">\n      <div class=\"col-lg-8\">\n        <div class=\"card border-0 shadow-sm mb-4\">\n          <div class=\"card-body\">\n            <div class=\"cart-items\">\n              <div\n                v-for=\"item in sortedCartItems\"\n                :key=\"item.id\"\n                class=\"cart-item p-3 mb-3 bg-light rounded\"\n              >\n                <cartItem\n                  :item=\"item\"\n                  @remove=\"handleRemoveItem\"\n                  @update-quantity=\"handleUpdateQuantity\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Checkout Section -->\n      <div class=\"col-lg-4\">\n        <div class=\"card border-0 shadow-sm\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title mb-4\">Order Summary</h5>\n\n            <!-- Price Summary -->\n            <div class=\"price-summary mb-4\">\n              <div class=\"d-flex justify-content-between mb-3\">\n                <span class=\"fw-bold\">Total</span>\n                <span class=\"fw-bold\">£{{ cartTotal }}</span>\n              </div>\n            </div>\n\n            <!-- Checkout Form -->\n            <form @submit.prevent=\"handleCheckout\">\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Name</label>\n                <input\n                  type=\"text\"\n                  v-model=\"checkoutForm.name\"\n                  @input=\"validateName\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors.name }\"\n                  required\n                />\n                <div class=\"invalid-feedback\">{{ errors.name }}</div>\n              </div>\n\n              <div class=\"mb-3\">\n                <label class=\"form-label\">Phone</label>\n                <input\n                  type=\"tel\"\n                  v-model=\"checkoutForm.phone\"\n                  @input=\"validatePhone\"\n                  class=\"form-control\"\n                  :class=\"{ 'is-invalid': errors.phone }\"\n                  required\n                />\n                <div class=\"invalid-feedback\">{{ errors.phone }}</div>\n              </div>\n\n              <div class=\"d-grid gap-2\">\n                <button\n                  type=\"submit\"\n                  class=\"btn btn-primary\"\n                  :disabled=\"loading || !isFormValid\"\n                >\n                  <i class=\"bi bi-credit-card me-2\"></i>\n                  Checkout ({{ cartItemCount }} items)\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters, mapActions } from \"vuex\";\nimport cartItem from \"./CartItem.vue\";\n\nexport default {\n  name: \"CartView\",\n\n  components: {\n    cartItem,\n  },\n\n  data() {\n    return {\n      checkoutForm: {\n        name: \"\",\n        phone: \"\",\n      },\n      errors: {\n        name: \"\",\n        phone: \"\",\n      },\n      loading: false,\n    };\n  },\n\n  computed: {\n    ...mapState(\"cart\", [\"error\"]),\n    ...mapGetters(\"cart\", [\"sortedCartItems\", \"hasItems\", \"cartItemCount\", \"cartTotal\"]),\n\n    isFormValid() {\n      return (\n        this.checkoutForm.name &&\n        this.checkoutForm.phone &&\n        !this.errors.name &&\n        !this.errors.phone\n      );\n    },\n  },\n\n  methods: {\n    ...mapActions(\"cart\", [\"removeFromCart\", \"clearCart\"]),\n\n    // Helper function to extract only digits from phone number\n    digitsOnly(phone) {\n      return phone.replace(/\\D/g, \"\");\n    },\n\n    validateName() {\n      const name = this.checkoutForm.name.trim();\n\n      if (!name) {\n        this.errors.name = \"Name is required\";\n      } else if (name.length < 2) {\n        this.errors.name = \"Name must be at least 2 characters\";\n      } else {\n        this.errors.name = \"\";\n      }\n    },\n    validatePhone() {\n      const phoneRegex = /^[\\d\\s\\-+()]{8,20}$/;\n      const phone = this.checkoutForm.phone.trim();\n      const digits = this.digitsOnly(phone);\n\n      if (!phone) {\n        this.errors.phone = \"Phone number is required\";\n      } else if (!phoneRegex.test(phone)) {\n        this.errors.phone = \"Please enter a valid phone number\";\n      } else if (digits.length < 8 || digits.length > 15) {\n        this.errors.phone = \"Phone number must be between 8 and 15 digits\";\n      } else {\n        this.errors.phone = \"\";\n      }\n    },\n\n    validateForm() {\n      let isValid = true;\n      this.errors = {\n        name: \"\",\n        phone: \"\",\n      };\n\n      // Name validation through separate method\n      this.validateName();\n      if (this.errors.name) {\n        isValid = false;\n      }\n\n      // Phone validation through separate method\n      this.validatePhone();\n      if (this.errors.phone) {\n        isValid = false;\n      }\n\n      return isValid;\n    },\n\n    async handleRemoveItem(item) {\n      try {\n        await this.removeFromCart(item.id);\n      } catch (error) {\n        console.error(\"Failed to remove item:\", error);\n      }\n    },\n\n    async handleCheckout() {\n      if (!this.validateForm()) return;\n\n      this.loading = true;\n      try {\n        const customerInfo = {\n          name: this.checkoutForm.name,\n          phone: this.checkoutForm.phone,\n        };\n\n        const result = await this.$store.dispatch(\"cart/checkout\", customerInfo);\n\n        if (result.success) {\n          this.checkoutForm = { name: \"\", phone: \"\" };\n        } else {\n          throw new Error(result.error || \"Checkout failed\");\n        }\n      } catch (error) {\n        console.error(\"Checkout failed:\", error);\n        this.errors.submit = error.message;\n      } finally {\n        this.loading = false;\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.cart-item {\n  transition: all 0.2s ease;\n  border: 1px solid rgba(0, 0, 0, 0.05);\n}\n\n.cart-item:hover {\n  background-color: #f8f9fa !important;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n}\n\n.price-summary {\n  background-color: #f8f9fa;\n  padding: 1rem;\n  border-radius: 8px;\n}\n\n.btn-primary {\n  background: linear-gradient(45deg, #007bff, #0056b3);\n  border: none;\n  transition: all 0.3s ease;\n}\n\n.btn-primary:hover:not(:disabled) {\n  background: linear-gradient(45deg, #0056b3, #004085);\n  transform: translateY(-2px);\n}\n\n.btn-outline-danger {\n  border-width: 1px;\n  transition: all 0.3s ease;\n}\n\n.btn-outline-danger:hover {\n  background-color: #dc3545;\n  color: white;\n  transform: translateY(-2px);\n}\n\n@media (max-width: 992px) {\n  .col-lg-4 {\n    margin-top: 2rem;\n  }\n}\n</style>\n","<template>\n  <div class=\"cart-item-container\">\n    <div class=\"d-flex justify-content-between align-items-center flex-wrap\">\n      <!-- Left: Subject Info -->\n      <div class=\"d-flex align-items-center subject-info\">\n        <div class=\"subject-icon me-3\">\n          <i :class=\"item?.icon\" class=\"fs-3\"></i>\n        </div>\n        <div>\n          <h5 class=\"mb-1\">{{ item.subject }}</h5>\n          <div class=\"text-muted small mb-1\">\n            <i class=\"bi bi-geo-alt me-1\"></i>\n            {{ item.location }}\n          </div>\n          <div class=\"text-muted small\">\n            <i class=\"bi bi-person me-1\"></i>\n            {{ availableSpaces }} remaining\n          </div>\n        </div>\n      </div>\n\n      <!-- Right: Quantity, Price, Remove -->\n      <div class=\"controls-section\">\n        <!-- Quantity Controls -->\n        <div class=\"quantity-wrapper me-4\">\n          <label class=\"form-label small text-muted mb-2\">Quantity:</label>\n          <div class=\"quantity-control d-flex align-items-center\">\n            <button\n              @click=\"updateQuantity(item.quantity - 1)\"\n              class=\"btn btn-outline-secondary btn-sm\"\n              :disabled=\"item.quantity <= 1\"\n              title=\"Decrease quantity\"\n            >\n              <i class=\"bi bi-dash\"></i>\n            </button>\n            <span class=\"quantity-display mx-3\">{{ item.quantity }}</span>\n            <button\n              @click=\"updateQuantity(item.quantity + 1)\"\n              class=\"btn btn-outline-secondary btn-sm\"\n              :disabled=\"item.quantity >= item.spaces\"\n              title=\"Increase quantity\"\n            >\n              <i class=\"bi bi-plus\"></i>\n            </button>\n          </div>\n        </div>\n\n        <!-- Price and Remove -->\n        <div class=\"price-remove-section text-end\">\n          <div class=\"price-section mb-2\">\n            <div class=\"fw-bold\">£{{ totalPrice }}</div>\n            <small class=\"text-muted\" v-if=\"item.quantity > 1\">\n              £{{ item.price }} each\n            </small>\n          </div>\n          <button\n            @click=\"removeItem\"\n            class=\"btn btn-outline-danger btn-sm\"\n            title=\"Remove from cart\"\n          >\n            <i class=\"bi bi-trash me-1\"></i>\n            Remove\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"CartItem\",\n\n  props: {\n    item: {\n      type: Object,\n      required: true,\n      validator: (obj) => {\n        return [\n          \"_id\",\n          \"subject\",\n          \"location\",\n          \"price\",\n          \"spaces\",\n          \"quantity\",\n          \"icon\",\n        ].every((prop) => prop in obj);\n      },\n    },\n  },\n\n  computed: {\n    totalPrice() {\n      return this.item.price * (this.item.quantity || 1);\n    },\n\n    availableSpaces() {\n      return `${this.item.spaces} space${this.item.spaces !== 1 ? \"s\" : \"\"}`;\n    },\n  },\n\n  methods: {\n    updateQuantity(newQuantity) {\n      if (newQuantity >= 1 && newQuantity <= this.item.spaces) {\n        this.$store.dispatch(\"cart/updateQuantity\", {\n          lessonId: this.item._id,\n          quantity: newQuantity,\n        });\n      }\n    },\n\n    removeItem() {\n      this.$store.dispatch(\"cart/removeFromCart\", this.item._id);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.cart-item-container {\n  transition: all 0.3s ease;\n}\n\n.cart-item-container:hover {\n  background-color: #f8f9fa;\n}\n\n.subject-icon {\n  width: 50px;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(45deg, #007bff, #0056b3);\n  border-radius: 12px;\n  color: white;\n  transition: transform 0.2s ease;\n}\n\n.subject-icon:hover {\n  transform: scale(1.05);\n}\n\n.quantity-control {\n  border: 1px solid #dee2e6;\n  border-radius: 8px;\n  padding: 2px;\n  background-color: #fff;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n.quantity-control button {\n  width: 28px;\n  height: 28px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: none;\n  background-color: transparent;\n  transition: all 0.2s ease;\n}\n\n.quantity-control button:hover:not(:disabled) {\n  background-color: #f8f9fa;\n  transform: translateY(-1px);\n}\n\n.quantity-control button:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.quantity-display {\n  min-width: 24px;\n  text-align: center;\n  font-weight: 500;\n  user-select: none;\n}\n\n.btn-outline-danger {\n  border-width: 1px;\n  transition: all 0.2s ease;\n}\n\n.btn-outline-danger:hover {\n  background-color: #dc3545;\n  color: white;\n  transform: translateY(-1px);\n}\n\n.controls-section {\n  display: flex;\n  align-items: center;\n  gap: 1.5rem;\n}\n\n.price-section {\n  text-align: right;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .cart-item-container {\n    padding: 1rem;\n  }\n\n  .subject-info {\n    margin-bottom: 1rem;\n    width: 100%;\n  }\n\n  .controls-section {\n    width: 100%;\n    flex-direction: column;\n    align-items: stretch;\n    gap: 1rem;\n  }\n\n  .quantity-wrapper {\n    margin-right: 0;\n  }\n\n  .price-remove-section {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .price-section {\n    margin-bottom: 0;\n  }\n}\n\n/* Animations */\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.cart-item-container {\n  animation: fadeIn 0.3s ease-out;\n}\n</style>\n","import { render } from \"./CartItem.vue?vue&type=template&id=31e2c340&scoped=true\"\nimport script from \"./CartItem.vue?vue&type=script&lang=js\"\nexport * from \"./CartItem.vue?vue&type=script&lang=js\"\n\nimport \"./CartItem.vue?vue&type=style&index=0&id=31e2c340&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31e2c340\"]])\n\nexport default __exports__","import { render } from \"./ShoppingCart.vue?vue&type=template&id=cf9e47ec&scoped=true\"\nimport script from \"./ShoppingCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShoppingCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShoppingCart.vue?vue&type=style&index=0&id=cf9e47ec&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-cf9e47ec\"]])\n\nexport default __exports__","import { render } from \"./Cart.vue?vue&type=template&id=ccf99e68\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_ShoppingCart","class","key","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_ctx","hasItems","onClick","_cache","args","clearCart","_createTextVNode","_createCommentVNode","$data","loading","_hoisted_3","error","_hoisted_4","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_Fragment","_renderList","sortedCartItems","item","id","_createVNode","_component_cartItem","onRemove","$options","handleRemoveItem","onUpdateQuantity","handleUpdateQuantity","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","cartTotal","onSubmit","_withModifiers","handleCheckout","_hoisted_17","type","$event","checkoutForm","name","onInput","validateName","_normalizeClass","errors","required","_hoisted_18","_hoisted_19","phone","validatePhone","_hoisted_20","_hoisted_21","disabled","isFormValid","cartItemCount","_hoisted_22","_hoisted_5","_component_router_link","to","default","_withCtx","_","$props","icon","subject","location","availableSpaces","updateQuantity","quantity","title","spaces","totalPrice","price","removeItem","props","Object","validator","obj","every","prop","computed","this","methods","newQuantity","$store","dispatch","lessonId","_id","__exports__","components","cartItem","data","mapState","mapGetters","mapActions","digitsOnly","replace","trim","length","phoneRegex","digits","test","validateForm","isValid","removeFromCart","console","customerInfo","result","success","Error","submit","message","ShoppingCart","render"],"sourceRoot":""}